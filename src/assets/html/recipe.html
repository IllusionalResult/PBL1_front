<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">

  <script>
    recipenum = 2;
    recipeurl = 'http://54.238.92.95:8080/api/v2/recipes/' + recipenum;
  </script>

  <!--<title>RECIPE</title>-->
  <!-- jQuery -->
  <script src="../js/bootstrap_js/jquery-2.0.0.min.js" type="text/javascript"></script>
  <!-- Bootstrap4 files-->
  <script src="../js/bootstrap_js/bootstrap.bundle.min.js" type="text/javascript"></script>
  <link href="../css/bootstrap_css/bootstrap.css" rel="stylesheet" type="text/css"/>

  <!-- Font awesome 5 -->
  <link href="../css/bootstrap_css/fontawesome-all.min.css" type="text/css" rel="stylesheet">

  <!-- plugin: fancybox  -->
  <script src="../plugins/fancybox/fancybox.min.js" type="text/javascript"></script>
  <link href="../plugins/fancybox/fancybox.min.css" type="text/css" rel="stylesheet">

  <!-- plugin: owl carousel  -->
  <link href="../plugins/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="../plugins/owlcarousel/assets/owl.theme.default.css" rel="stylesheet">
  <script src="../plugins/owlcarousel/owl.carousel.min.js"></script>

  <!-- custom style -->
  <link href="../css/bootstrap_css/ui.css" rel="stylesheet" type="text/css"/>
  <link href="../css/bootstrap_css/responsive.css" rel="stylesheet" media="only screen and (max-width: 1200px)" />

  <!-- custom javascript -->
  <script src="../js/bootstrap_js/script.js" type="text/javascript"></script>

  <script type="text/javascript">
    /// some script
    // jquery ready start
    $(document).ready(function() {
      // jQuery code
    });
    // jquery end
  </script>
</head>
<body>

<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="../js/apiRequest.js"></script>
<script>
  apiResponse('GET',recipeurl,'','',function(data){
    // レシピの名前を表示させる処理
    document.title = data.recipe_name;

    recipe_name = data.recipe_name;
    var docname = document.getElementById("recipe_name");
    docname.innerHTML= recipe_name;
    // レシピの名前を表示させる処理終了

    // レシピの画像を表示させる処理
    recipe_image_url = data.recipe_image_url;
    var docimg = document.getElementById("recipe_image");
    docimg.onload = function(){}
    docimg.src = recipe_image_url;
    // レシピの画像を表示させる処理終了

    // レシピの材料を表示させる処理
    recipe_Ingredients = data.recipe_Ingredients;
    food_ingredient = '<hr>';
    recipe_Ingredients.forEach(function( ingredient ){
      food_ingredient = food_ingredient + '<table border="0" width="300"><tr><td width="50%">・' + ingredient.food_name +
              '</td><td width="10%"></td><td width="40%" align="center">' + ingredient.quantity + '</td></tr></table><hr>';
    });
    var docing = document.getElementById("recipe_ingredient");
    docing.innerHTML= food_ingredient;
    // レシピの材料を表示させる処理終了

    // レシピの作り方を表示させる処理終了
    food_process = '<hr>';
    pronum = 0;

    pronum += 1;
    food_process = food_process + pronum + '.　' + '作り方1<hr>';
    pronum += 1;
    food_process = food_process + pronum + '.　' + '作り方2<hr>';
    /*
    recipe_process = data.recipe_process;
    recipe_process.forEach(function( rprocess ){
      pronum += 1;
      food_process = food_process + pronum + '.' + rprocess.prosess +'<hr>';
    });
    */
    var docpro = document.getElementById("recipe_process");
    docpro.innerHTML= food_process;
    // レシピの作り方を表示させる処理終了

  function add_to_cart() {
    apiResponse('POST', 'http://54.238.92.95:8080/api/v1/cart', '', null, function (cart) {
      var user_cart = cart
    });
  }
});


</script>

<section class="section-content bg padding-y-sm">
  <div class="container">
    <div class="row">
      <div class="col-xl-10 col-md-9 col-sm-12">
        <main class="card">
          <div class="row no-gutters">
            <aside class="col-sm-6 border-right">
              <article class="gallery-wrap">
                <div class="img-big-wrap">
                  <div>

                    <!-- レシピ写真表示 -->
                    <img id="recipe_image">

                  </div>
                </div> <!-- slider-product.// -->
              </article> <!-- gallery-wrap .end// -->
            </aside>
            <aside class="col-sm-6">
              <article class="card-body">
                <!-- short-info-wrap -->

                <!-- レシピ名表示 -->
                <h3 class="title mb-3" id="recipe_name"></h3>

                <div class="mb-3">
                  <var class="price h3">
                    <span class="currency">材料</span>
                  </var>
                  <form style="display: inline">

                    <!-- レシピ材料表示 -->
                    <table border="0"><tr><td><div id="recipe_ingredient"></div></td></tr></table>

                  </form>
                  <a>　　　　　　　　　　　　　　　　　　</a>
                  <input type="button" onClick="location.href=''" value="購入">
              </article> <!-- card-body.// -->
            </aside> <!-- col.// -->
          </div> <!-- row.// -->
        </main> <!-- card.// -->
        <!-- PRODUCT DETAIL -->
        <article class="card mt-3">
          <div class="card-body">
            <h4>作り方</h4><hr>

              <!-- レシピ作り方表示 -->
              <div id="recipe_process"></div>

          </div> <!-- card-body.// -->
        </article> <!-- card.// -->
      </div>
    </div> <!-- row.// -->
  </div><!-- container // -->
</section>
</body>
</html>
